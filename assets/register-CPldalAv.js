import{_ as k,N as C,g as S,O as q,P as M,Q as i,R as P,S as u,T as U,s as $,c as T,v as a,t,M as E,o as F,V as x,y as n,C as A,U as B,G as V,W as N,X as R,Y as j,x as s,Z as d,$ as z,E as w,a0 as O}from"./index-UV5Uae5u.js";import{v as y}from"./index-Cgwab5kt.js";import{V as G}from"./VCheckbox-9ACNxAx8.js";import"./VCheckboxBtn-CT3Jqn2e.js";const I={class:"register-wrapper"},Q={__name:"register",setup(W){const b=C(),_=$(),m=S(!1),c=q({validationSchema:M({account:i().required("帳號必填").min(4,"帳號至少4個字").max(20,"帳號最多20個字").test("isAlphanumeric","帳號只能包含英文字母和數字",r=>y.isAlphanumeric(r)),email:i().required("電子郵件必填").test("isEmail","請輸入有效的電子郵件地址",r=>y.isEmail(r)),password:i().required("密碼必填").min(4,"密碼至少4個字").max(20,"密碼最多20個字"),confirmPassword:i().required("確認密碼必填").oneOf([P("password")],"密碼和確認密碼必須相同")})}),f=u("account"),g=u("email"),p=u("password"),v=u("confirmPassword"),h=c.handleSubmit(async r=>{var e,l;try{await U.create({account:r.account,email:r.email,password:r.password}),b({text:"註冊成功！",snackbarProps:{color:"success"}}),_.push("/")}catch(o){console.error(o),b({text:((l=(e=o==null?void 0:o.response)==null?void 0:e.data)==null?void 0:l.message)||"註冊失敗，請稍後再試！",snackbarProps:{color:"error"}})}});return(r,e)=>(F(),T("div",I,[a(E,{class:"fill-height pa-0 text-text",fluid:""},{default:t(()=>[a(x,{class:"fill-height","no-gutters":""},{default:t(()=>[a(n,{class:"d-none d-md-block left-image",cols:"6"}),a(n,{class:"right-col d-flex align-center justify-center pr-lg-16",cols:"12",md:"6"},{default:t(()=>[a(A,{class:"register-card pa-6 text-text",elevation:"5","max-width":"500",width:"100%"},{default:t(()=>[a(B,{class:"mb-4"},{default:t(()=>e[6]||(e[6]=[V("新用戶註冊")])),_:1,__:[6]}),a(N,{class:"flex-grow-1 overflow-y-auto"},{default:t(()=>[a(R,{disabled:s(c).isSubmitting.value,onSubmit:j(s(h),["prevent"])},{default:t(()=>[a(d,{modelValue:s(f).value.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s(f).value.value=l),class:"my-3",counter:"",density:"comfortable","error-messages":s(f).errorMessage.value,label:"請輸入帳號",maxlength:"20",minlength:"4",required:"",variant:"outlined"},null,8,["modelValue","error-messages"]),a(d,{modelValue:s(g).value.value,"onUpdate:modelValue":e[1]||(e[1]=l=>s(g).value.value=l),class:"my-3",density:"comfortable","error-messages":s(g).errorMessage.value,label:"請輸入信箱",required:"",variant:"outlined"},null,8,["modelValue","error-messages"]),a(d,{modelValue:s(p).value.value,"onUpdate:modelValue":e[2]||(e[2]=l=>s(p).value.value=l),class:"my-3",counter:"",density:"comfortable","error-messages":s(p).errorMessage.value,label:"請輸入密碼",maxlength:"20",minlength:"4",required:"",type:"password",variant:"outlined"},null,8,["modelValue","error-messages"]),a(d,{modelValue:s(v).value.value,"onUpdate:modelValue":e[3]||(e[3]=l=>s(v).value.value=l),class:"my-3",counter:"",density:"comfortable","error-messages":s(v).errorMessage.value,label:"請再次確認密碼",maxlength:"20",minlength:"4",required:"",type:"password",variant:"outlined"},null,8,["modelValue","error-messages"]),a(G,{class:"mt-0 mx-2",density:"compact","hide-details":"",label:"訂閱電子報，看最新感受"}),a(z,{class:"d-flex justify-center mt-6"},{default:t(()=>[a(x,null,{default:t(()=>[a(n,{cols:"12"},{default:t(()=>[a(w,{block:"",color:"highlight1",loading:s(c).isSubmitting.value,size:"large",type:"submit",variant:"flat"},{default:t(()=>e[7]||(e[7]=[V(" 註冊 ")])),_:1,__:[7]},8,["loading"])]),_:1}),a(n,{cols:"12"},{default:t(()=>[a(w,{block:"",color:"highlight1",size:"large",variant:"tonal",onClick:e[4]||(e[4]=l=>m.value=!0)},{default:t(()=>e[8]||(e[8]=[V(" 已有帳號登入 ")])),_:1,__:[8]}),a(O,{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=l=>m.value=l),persistent:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}},H=k(Q,[["__scopeId","data-v-dedba10e"]]);export{H as default};
