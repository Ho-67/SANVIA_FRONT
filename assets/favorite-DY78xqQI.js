import{ai as p,g as u,i as x,p as r,t,V as h,aN as y,o,v as a,a as v,c as V,y as i,C as k,W as C,b as d,x as f,I as g,ah as w,am as b,G as N,F as B,e as F}from"./index-DZvGKgHG.js";import{P as I}from"./productCard-CpHz6NjC.js";import"./VChip-Biv0UaZk.js";const P={class:"d-flex align-center justify-center"},E={__name:"favorite",setup(L){const n=p(),l=u([]),c=u(!0);return x(async()=>{if(n.isLoggedIn)try{await n.fetchFavorites(),l.value=n.favorites}catch(m){console.error("Failed to fetch favorite products:",m)}finally{c.value=!1}else c.value=!1}),(m,s)=>{const _=y("router-link");return o(),r(h,{class:"text-text pa-6"},{default:t(()=>[a(i,{cols:"12"},{default:t(()=>[a(k,{class:"rounded-t-circle",color:"section",flat:""},{default:t(()=>[a(C,{class:"text-h6 text-onSecondary font-weight-bold"},{default:t(()=>[d("div",P,[a(f(g),{height:"24",icon:"ri:pulse-ai-line"}),s[0]||(s[0]=d("span",null,"心選好物",-1)),a(f(g),{height:"24",icon:"gravity-ui:heart-pulse"})])]),_:1})]),_:1})]),_:1}),c.value?(o(),r(i,{key:0,class:"text-center",cols:"12"},{default:t(()=>[a(w,{color:"primary",indeterminate:""})]),_:1})):l.value.length===0?(o(),r(i,{key:1,class:"text-center my-10",cols:"12"},{default:t(()=>[a(b,{alt:"空收藏的插圖",class:"mx-auto mb-4","max-width":"150",src:"https://cdn-icons-png.flaticon.com/512/4076/4076549.png"}),s[2]||(s[2]=d("div",{class:"text-h6 font-weight-medium mb-2"},"看來還沒有商品能引起你的共鳴",-1)),a(_,{class:"text-body-2 text-highlight2 font-weight-medium text-decoration-none",to:"/product"},{default:t(()=>s[1]||(s[1]=[N(" 去逛逛，找到真正打動你的那一件吧！ ")])),_:1,__:[1]})]),_:1,__:[2]})):v("",!0),(o(!0),V(B,null,F(l.value,e=>(o(),r(i,{key:e._id,cols:"12",lg:"3",md:"4",sm:"6"},{default:t(()=>[(o(),r(I,{key:e._id,_id:e._id,category:e.category,description:e.description,emotions:e.emotions,image:e.image,name:e.name,price:e.price},null,8,["_id","category","description","emotions","image","name","price"]))]),_:2},1024))),128))]),_:1})}}};export{E as default};
