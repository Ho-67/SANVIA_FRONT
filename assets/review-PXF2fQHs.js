import{a1 as F,a2 as N,as as z,ar as T,a3 as E,h as s,aG as G,br as H,aF as j,a8 as D,a9 as O,v as u,f as U,n as $,au as q,b7 as J,bs as K,bb as Q,bc as W,bd as k,b as i,F as B,ac as X,E as Y,G as Z,aj as m}from"./index-CY7g7pVQ.js";const p=N({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:k,default:"$ratingEmpty"},fullIcon:{type:k,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...W(),...Q(),...K(),...J(),...q()},"VRating"),ae=F()({name:"VRating",props:p(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:o}=c;const{t:I}=z(),{themeClasses:C}=T(e),S=E(e,"modelValue"),v=s(()=>G(parseFloat(S.value),0,Number(e.length))),w=s(()=>H(Number(e.length),1)),V=s(()=>w.value.flatMap(a=>e.halfIncrements?[a-.5,a]:[a])),g=j(-1),h=s(()=>V.value.map(a=>{const n=e.hover&&g.value>-1,t=v.value>=a,l=g.value>=a,r=(n?l:t)?e.fullIcon:e.emptyIcon,y=e.activeColor??e.color,f=t||l?y:e.color;return{isFilled:t,isHovered:l,icon:r,color:f}})),M=s(()=>[0,...V.value].map(a=>{function n(){g.value=a}function t(){g.value=-1}function l(){e.disabled||e.readonly||(S.value=v.value===a&&e.clearable?0:a)}return{onMouseenter:e.hover?n:void 0,onMouseleave:e.hover?t:void 0,onClick:l}})),A=D(),L=s(()=>e.name??`v-rating-${A}`);function b(a){var _,P;let{value:n,index:t,showStar:l=!0}=a;const{onMouseenter:d,onMouseleave:r,onClick:y}=M.value[t+1],f=`${L.value}-${String(n).replace(".","-")}`,R={color:(_=h.value[t])==null?void 0:_.color,density:e.density,disabled:e.disabled,icon:(P=h.value[t])==null?void 0:P.icon,ripple:e.ripple,size:e.size,variant:"plain"};return i(B,null,[i("label",{for:f,class:$({"v-rating__item--half":e.halfIncrements&&n%1>0,"v-rating__item--full":e.halfIncrements&&n%1===0}),onMouseenter:d,onMouseleave:r,onClick:y},[i("span",{class:"v-rating__hidden"},[I(e.itemAriaLabel,n,e.length)]),l?o.item?o.item({...h.value[t],props:R,value:n,index:t,rating:v.value}):u(Y,X({"aria-label":I(e.itemAriaLabel,n,e.length)},R),null):void 0]),i("input",{class:"v-rating__hidden",name:L.value,id:f,type:"radio",value:n,checked:v.value===n,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function x(a){return o["item-label"]?o["item-label"](a):a.label?i("span",null,[a.label]):i("span",null,[Z("Â ")])}return O(()=>{var n;const a=!!((n=e.itemLabels)!=null&&n.length)||o["item-label"];return u(e.tag,{class:$(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},C.value,e.class]),style:U(e.style)},{default:()=>[u(b,{value:0,index:-1,showStar:!1},null),w.value.map((t,l)=>{var d,r;return i("div",{class:"v-rating__wrapper"},[a&&e.itemLabelPosition==="top"?x({value:t,index:l,label:(d=e.itemLabels)==null?void 0:d[l]}):void 0,i("div",{class:"v-rating__item"},[e.halfIncrements?i(B,null,[u(b,{value:t-.5,index:l*2},null),u(b,{value:t,index:l*2+1},null)]):u(b,{value:t,index:l},null)]),a&&e.itemLabelPosition==="bottom"?x({value:t,index:l,label:(r=e.itemLabels)==null?void 0:r[l]}):void 0])})]})}),{}}}),te={addReview(e,c){return m.apiAuth.post(`/product/${e}/reviews`,c)},getReviewsByProductId(e){return m.api.get(`/product/${e}/reviews`)},getReviewsByOrderId(e){return m.apiAuth.get(`/orders/${e}/reviews`)},getUserReviews(){return m.apiAuth.get("/user/reviews")},updateReview(e,c,o){return m.apiAuth.patch(`/product/${e}/reviews/${c}`,o)}};export{ae as V,te as r};
