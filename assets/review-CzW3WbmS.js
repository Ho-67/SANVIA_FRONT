import{X as F,Y as N,an as z,am as T,Z as D,h as s,aB as H,bl as E,aA as O,a3 as U,a4 as X,v as u,f as Y,n as C,ap as Z,b2 as j,bm as q,b6 as G,b7 as J,b8 as P,b as i,F as $,a7 as K,C as Q,D as W,ae as m}from"./index-CoNJkl2v.js";const p=N({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:P,default:"$ratingEmpty"},fullIcon:{type:P,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...J(),...G(),...q(),...j(),...Z()},"VRating"),ae=F()({name:"VRating",props:p(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:o}=c;const{t:I}=z(),{themeClasses:k}=T(e),S=D(e,"modelValue"),v=s(()=>H(parseFloat(S.value),0,Number(e.length))),w=s(()=>E(Number(e.length),1)),V=s(()=>w.value.flatMap(a=>e.halfIncrements?[a-.5,a]:[a])),g=O(-1),h=s(()=>V.value.map(a=>{const n=e.hover&&g.value>-1,t=v.value>=a,l=g.value>=a,r=(n?l:t)?e.fullIcon:e.emptyIcon,y=e.activeColor??e.color,f=t||l?y:e.color;return{isFilled:t,isHovered:l,icon:r,color:f}})),A=s(()=>[0,...V.value].map(a=>{function n(){g.value=a}function t(){g.value=-1}function l(){e.disabled||e.readonly||(S.value=v.value===a&&e.clearable?0:a)}return{onMouseenter:e.hover?n:void 0,onMouseleave:e.hover?t:void 0,onClick:l}})),M=U(),L=s(()=>e.name??`v-rating-${M}`);function b(a){var _,B;let{value:n,index:t,showStar:l=!0}=a;const{onMouseenter:d,onMouseleave:r,onClick:y}=A.value[t+1],f=`${L.value}-${String(n).replace(".","-")}`,R={color:(_=h.value[t])==null?void 0:_.color,density:e.density,disabled:e.disabled,icon:(B=h.value[t])==null?void 0:B.icon,ripple:e.ripple,size:e.size,variant:"plain"};return i($,null,[i("label",{for:f,class:C({"v-rating__item--half":e.halfIncrements&&n%1>0,"v-rating__item--full":e.halfIncrements&&n%1===0}),onMouseenter:d,onMouseleave:r,onClick:y},[i("span",{class:"v-rating__hidden"},[I(e.itemAriaLabel,n,e.length)]),l?o.item?o.item({...h.value[t],props:R,value:n,index:t,rating:v.value}):u(Q,K({"aria-label":I(e.itemAriaLabel,n,e.length)},R),null):void 0]),i("input",{class:"v-rating__hidden",name:L.value,id:f,type:"radio",value:n,checked:v.value===n,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function x(a){return o["item-label"]?o["item-label"](a):a.label?i("span",null,[a.label]):i("span",null,[W("Â ")])}return X(()=>{var n;const a=!!((n=e.itemLabels)!=null&&n.length)||o["item-label"];return u(e.tag,{class:C(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},k.value,e.class]),style:Y(e.style)},{default:()=>[u(b,{value:0,index:-1,showStar:!1},null),w.value.map((t,l)=>{var d,r;return i("div",{class:"v-rating__wrapper"},[a&&e.itemLabelPosition==="top"?x({value:t,index:l,label:(d=e.itemLabels)==null?void 0:d[l]}):void 0,i("div",{class:"v-rating__item"},[e.halfIncrements?i($,null,[u(b,{value:t-.5,index:l*2},null),u(b,{value:t,index:l*2+1},null)]):u(b,{value:t,index:l},null)]),a&&e.itemLabelPosition==="bottom"?x({value:t,index:l,label:(r=e.itemLabels)==null?void 0:r[l]}):void 0])})]})}),{}}}),te={addReview(e,c){return m.apiAuth.post(`/product/${e}/reviews`,c)},getReviewsByProductId(e){return m.api.get(`/product/${e}/reviews`)},getReviewsByOrderId(e){return m.apiAuth.get(`/orders/${e}/reviews`)},getUserReviews(){return m.apiAuth.get("/user/reviews")},updateReview(e,c,o){return m.apiAuth.patch(`/product/${e}/reviews/${c}`,o)}};export{ae as V,te as r};
